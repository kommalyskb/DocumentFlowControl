@inject IHttpService httpService
@inject AccessTokenStorage accessToken
@inject ServiceEndpoint endpoint
@inject LocalStorageHelper storageHelper

<MudContainer>
    <MudGrid>
        <MudItem xs="12" md="12">
            <MudTable Items="@Employees" ReadOnly="true" Filter="new Func<EmployeeModel,bool>(FilterFunc)" HorizontalScrollbar="true" FixedHeader="true" Height="65vh">
                <ToolBarContent>
                    <MudText Typo="Typo.h6">ລາຍການພະນັກງານ</MudText>
                    <MudSpacer />
                    <MudTextField @bind-Value="searchString" Placeholder="Search" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"></MudTextField>
                </ToolBarContent>

                <HeaderContent>
                    <MudTh>ເລືອກ</MudTh>
                    <MudTh>ຊື່ ນາມສະກຸນ</MudTh>
                </HeaderContent>
                <RowTemplate>
                    <MudRadioGroup @bind-SelectedOption="@SelectUser!.UserID">
                        <MudTd>
                            <MudRadio Option="@context.id" Color="Color.Primary"></MudRadio>
                        </MudTd>
                    </MudRadioGroup>
                    <MudTd>@context.Name.Local @context.FamilyName.Local</MudTd>
                </RowTemplate>
                <FooterContent>

                </FooterContent>
                <PagerContent>
                    <MudTablePager />
                </PagerContent>
            </MudTable>
        </MudItem>
    </MudGrid>

</MudContainer>
@code {
    [Parameter] public IEnumerable<EmployeeModel>? Employees { get; set; }
    [Parameter] public PartialEmployeeProfile? SelectUser { get; set; }
}
